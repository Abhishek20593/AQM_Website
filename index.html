<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Air Quality Monitoring</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="intro-text">
        <h3>About the page</h3>
        <p>Air Quality Monitoring using Bluetooth HC-05. By using this Web Application the Real-time Monitoring of Ambient Temperature, Carbon Monoxide (CO), Smoke (air quality), and Particulate Matters PM2.5 and PM10. </p>
    </div>
    <h1>Realtime Monitoring</h1>
    <!-- <div class="graphs">
        <canvas id="temp" height="600" width="1200"></canvas>
        <canvas id="co" height="600" width="1200"></canvas>
        <canvas id="aq" height="600" width="1200"></canvas>
        <canvas id="pm2" height="600" width="1200"></canvas>
        <canvas id="pm10" height="600" width="1200"></canvas>
    </div> -->
    <div class="time-date-selector">
        <input type="text" placeholder="DD/MM/YYYY" id="date">
    </div>
    <div class="data-container">
        <table id="data" style="width: 100%;">
            <tr>
                <th>Timestamp</th>
                <th>Temperature (C)</th>
                <th>CO (PPB)</th>
                <th>Air_Quality[Smoke] (PPM)</th>
                <th>PM2.5 (ug/m^3)</th>
                <th>PM10 (ug/m^3)</th>
            </tr>
        </table>
    </div>
    <button onclick="signOut()">Log out</button>
</body>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>

<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>

<script>
// Your web app's Firebase configuration
var firebaseConfig = {
    apiKey: "AIzaSyAKujIgveiaIAN2VCbln34UfgjPLpoDs8Q",
    authDomain: "bluetooth-aqm-iit-kgp-2020.firebaseapp.com",
    databaseURL: "https://bluetooth-aqm-iit-kgp-2020-default-rtdb.firebaseio.com",
    projectId: "bluetooth-aqm-iit-kgp-2020",
    storageBucket: "bluetooth-aqm-iit-kgp-2020.appspot.com",
    messagingSenderId: "817769544752",
    appId: "1:817769544752:web:6b83230b96f203a13541f5",
};
// Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    
    firebase.auth().onAuthStateChanged((user) => {
    // console.log(user)
    if(user){
        getData()
        getLocation()
    }else{
        console.log("Not logged in index.html")
        location.href = "signIn.html"
    }
})
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.0/dist/Chart.min.js"></script>
<script src="./index.js"></script>
</html>